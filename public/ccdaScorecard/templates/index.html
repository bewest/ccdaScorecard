<!-- Main hero unit for a primary marketing message or call to action -->
<div class="hero-unit">
  <h1>Your C-CDA.  Beautiful.</h1>
</div>

<!-- Example row of columns -->
<div class="row">
  <div class="span12">

    <h2>Paste and go.</h2>
    <textarea AUTOFOCUS id="pasteHere" ng-model="submission" placeholder="Your C-CDA here"></textarea><br>

    <button 
      ng-click="getScore()"
      ng-disabled="submission.length == 0" 
      id="scoreMe" 
      class="btn">
      Score me!
    </button>

    <button 
      ng-disabled="loading()" 
      ng-click="submission = example; getScore();"
      class="btn">
      Show me an example
    </button>

    <span ng-show="loading()" id='loading'>loading...</span>

  </div>
</div>

<div id="feedbackSection" class="row">

  <div class="span12">

    <div ng-show="scoring" id="scoring">Scoring...</div>

      <div ng-repeat="section in scoreSections">
        <h2>{{section.name}}</h2>
        <table class="scoreTable table table-bordered table-condensed">

          <tbody 
            ng-repeat="score in section.scores" 
            ng-init="c=cssClassFor(score); r = rubrics[score.rubric]; showDetails=true;" >
            <tr ng-class="c" ng-click="showDetails=!showDetails">
              <td>{{r.description}}</td>
              <td><code>{{score.score}}/{{r.maxPoints}} points</code></td>
            </tr>
            <tr ng-switch="showDetails">
              <td ng-switch-when="true" colspan="2">
                <div class="histogram" stats-histogram distribution="stats[score.rubric].counts"></div>
                <div class="rubricDetail"><strong>Best Practice:</strong> {{r.detail}}</div>
                <div ng-show="score.detail">
                  <hr>
                  <strong>Your Results:</strong>
                  <span ng-bind-html-unsafe="score.detail"></span>
                </div>
                <div class="detailRow"></div>
              </td>
            </tr>
          </tbody>

        </table>
      </div>

  </div>
</div>
